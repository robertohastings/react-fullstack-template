PORT=3000
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE='crm'
DB_USER='appusercrmadmin'
DB_PASSWORD='appusercrmadmin'
CLOUDINARY_CLOUD_NAME='ddhxa9igj'
CLOUDINARY_API_KEY='778763934991892'
CLOUDINARY_API_SECRET='bPPu6qPoKNgRwLZmRYWjLqzXBgo'


nuevas tablas:
    agenda
    agenda_estatus
    jornada_laboral

nuevo sps:
    deleteAgenda
    postAgenda
    getAgendaBuscarCita
    getAgendaDisponibilidad

nuevos cambios en tablas:
    agregue el campo mostrar_productos_verMas 

nuevos cambios en sps:
    cambie el sp getLandingPage: agregué el campo: mostrar_productos_verMas
    cambie el sp putLandingPage: agregue el cambo: mostrar_productos_verMas

Pendientes:
    Agregar en la pagina de landingPage 
        - el botón para mostar ver mas Productos (Listo)
        - links para redes sociales y mostrarlas en la página si estas traen contenido

23/02:
    agregue el componente en frontend: npm install react-calendar


CREATE DEFINER=`root`@`localhost` PROCEDURE `getClientePorTelefonoOCelular`(
	prm_id_empresa INT,
    prm_celular VARCHAR(20)
)
BEGIN
	DECLARE numero VARCHAR(20) DEFAULT ''; 
    DECLARE nombre_cliente VARCHAR(200) DEFAULT '';

	SELECT fn_solo_numeros(prm_celular) into numero;
    -- select numero;

	SELECT C.nombre INTO nombre_cliente
    FROM clientes C
    WHERE C.id_empresa = prm_id_empresa AND fn_solo_numeros(C.celulares) = numero
	LIMIT 1;
    
    -- SI NO ENCONTRÉ EL CLIENTE LO BUSCO AHORA POR TELEFONO
    IF nombre_cliente = '' THEN
    
		SELECT C.nombre INTO nombre_cliente
		FROM clientes C
		WHERE C.id_empresa = prm_id_empresa AND fn_solo_numeros(C.telefonos) = numero
		LIMIT 1; 
    
    END IF;        
    
    SELECT nombre_cliente;

END

CREATE DEFINER=`root`@`localhost` FUNCTION `fn_solo_numeros`(cadena VARCHAR(255)
) RETURNS varchar(255) CHARSET latin1 COLLATE latin1_spanish_ci
    DETERMINISTIC
BEGIN
    DECLARE resultado VARCHAR(255) DEFAULT '';
    DECLARE i INT DEFAULT 1;
    DECLARE c CHAR(1);

    WHILE i <= CHAR_LENGTH(cadena) DO
        SET c = SUBSTRING(cadena, i, 1);
        IF c REGEXP '[0-9]' THEN
            SET resultado = CONCAT(resultado, c);
        END IF;
        SET i = i + 1;
    END WHILE;

    RETURN resultado;
END
